"0","# Pie Chart (Rating Level)"
"0","library(highcharter)"
"0","library(dplyr)"
"0","library(viridis)"
"0",""
"0","# Prepare the data"
"0","rating_dist <- imdb %>%"
"0","  group_by(Rating_Level) %>%"
"0","  summarize(count = n()) %>%"
"0","  arrange(desc(count))"
"0",""
"0","# Create a list of named values for highcharter"
"0","pie_data <- list_parse2("
"0","  rating_dist %>% mutate(name = Rating_Level, y = count) %>% select(name, y)"
"0",")"
"0",""
"0","# Generate colors"
"0","custom_colors <- viridis::mako(n = nrow(rating_dist))"
"0",""
"0","# Create highcharter pie chart properly"
"0","highchart() %>%"
"0","  hc_chart(type = ""pie"") %>%"
"0","  hc_add_series("
"0","    name = ""Rating Distribution"","
"0","    data = pie_data,"
"0","    colorByPoint = TRUE,"
"0","    colors = custom_colors"
"0","  ) %>%"
"0","  hc_title("
"0","    text = ""Distribution of Rating Levels"","
"0","    style = list(fontSize = '15px', fontWeight = 'bold')"
"0","  ) %>%"
"0","  hc_tooltip(pointFormat = '<b>Proportion: </b> {point.percentage:.2f}%') %>%"
"0","  hc_add_theme(hc_theme_google()) %>%"
"0","  hc_credits(enabled = TRUE, text = '@group3')"
